<!DOCTYPE html>
<html>
<head>

<!-- 
  Copyright 2013 Microsoft Corporation.
 
  This is free software; you can redistribute it and/or modify it under the
  terms of the Apache License, Version 2.0. A copy of the License can be
  found in the file "license.txt" at the root of this distribution.
-->

<!-- Editor themes -->
<link rel="stylesheet" type="text/css" media="screen" href="lib/vs/editor/css/vs-dark-theme.css" />
<link rel="stylesheet" type="text/css" media="screen" href="lib/vs/editor/css/vs-theme.css" />

<!-- madoko style -->
<link rel="stylesheet" type="text/css" href="styles/madoko.css">

<!-- main style -->
<link rel="stylesheet" type="text/css" href="styles/main.css">

<!-- use the monaco loader to implement "require" -->
<script type="text/javascript" src="lib/vs/loader.js"></script>
<script>
  require.config({
    baseUrl: "lib"
  });
</script>

<!-- install a handler that calls madoko to typeset -->
<script>
require([ "../scripts/util",
          "../scripts/runner",
          "vs/editor/editor.main"],
          function(util,Runner) 
{ 
  require( ["../scripts/ui"], function(UI) {   // UI imports editor internal modules.
    var runner = new Runner();
    var ui     = new UI(runner);
    util.message("ready", util.Msg.Status );
  });
});
</script>


</head>

<body class="theme-dark" >
<noscript>
<p>Madoko is a dynamic application that requires JavaScript.</p>
<p>Please enable JavaScript in your browser and reload.</p>
</noscript>
<div id="oldbrowser" style="display:none; padding: 1ex">
<p>Madoko uses HTML5 features and requires a recent browser version to work correctly.</p>
<p>Please upgrade your browser to a more recent version.</p>
<p>Madoko is known to work with IE 10+, Chrome version 31+, or Firefox version 27+.</p>
</div>
<div id="app" class="view-normal" style="display:none">
<div id="editorpane" class="pane left">
  <div id="editor-header" class="pane-header">
    <div id="document" class="popup">
      <img id="cloud" class="button" src="images/dark/button-folder.png"/>
      <div id="document-content" class="menu boxed">
        <div id="load-dropbox" class="button" title="Load document from Dropbox cloud storage"
          ><span class="icon"><img src="images/icon-dropbox.png"/></span>Load from dropbox</div>
        <div id="load-onedrive" class="button" title="Load document from Onedrive cloud storage"
          ><span class="icon"><img src="images/icon-onedrive.png"/></span>Load from onedrive</div>
        <div id="new-document" class="button" title="Create a new local document"
          ><span class="icon"><img src="images/icon-local.png"/></span>New local document</div>
        <hr/>      
        <div id="snapshot" class="button" title="Save a full copy of the current document in a 'snapshot-<date>' sub-folder on the cloud storage"
          ><span class="icon"><img src="images/icon-snapshot.png"/></span>Save a snapshot</div>
        <hr/>
          <span>&nbsp;Save to folder:&nbsp;&nbsp;<input id="save-folder" class="header" value="" type="text"/></span>
        <div id="save-dropbox" class="button" title="Save the full document to the specified folder on Dropbox, and continue editing at the new location"
          ><span class="icon"><img src="images/icon-dropbox.png"/></span>On dropbox</div>
        <div id="save-onedrive" class="button" title="Save the full document to the specified folder on  Onedrive, and continue editing at the new location"
          ><span class="icon"><img src="images/icon-onedrive.png"/></span>On onedrive</div>
        <hr/>
        <div id="export-html" class="button" title="Export the document as a stand-alone web-page (HTML)">
        <span class="icon"><img src="images/icon-html.png" title="Generate HTML"/></span>Generate HTML page</div>
        <div id="export-pdf" class="button" title="Export the document as PDF">
        <span class="icon"><img src="images/icon-pdf.png" title="Generate PDF"/></span>Generate PDF document</div>
      </div>
    </div
    ><div id="edit-select" class="popup" >
      <img id="sync-spinner" class="button spinner" src="images/dark/button-sync.png" title="Synchronize with cloud storage"/>
      <img id="remote-logo" src="images/icon-empty.png"/>
      <span id="edit-select-header">&nbsp;</span>
      <div id="edit-select-content" class="menu boxed">
        <div id="edit-select-directory"></div>
        <div id="edit-select-files"></div>        
      </div
    ></div
  ></div>
  <div class="pane-content" >
    <div id="editor"></div>
  </div>
</div>
<div id="viewpane" class="pane right normal">
  <div id="view-header" class="pane-header">
    <img id="view-spinner" class="spinner" src="images/dark/icon-spinner.png" alt="view spinner"/>          
    <div id="menu-settings" class="popup">
      <img class="button" src="images/dark/button-settings.png" />
      <div id="menu-settings-content" class="menu boxed">
        <div class="button" title="Synchronize automatically with cloud storage (every 30 seconds)">
          <input type="checkbox" id="checkAutoSync" checked/> Synchronize automatically</div>
        <div class="button" title="Show line numbers in the editor">
          <input type="checkbox" id="checkLineNumbers"/> Show line numbers</div>
        <div class="button" title="Wrap lines in the editor">
          <input type="checkbox" id="checkWrapLines"/> Wrap lines</div>
       <hr/>
        <div class="button" 
             title="Do not update the view until there is a pause in typing.
Delaying the view update increases performance with large documents or slow browsers.">
          <input type="checkbox" id="checkDelayedUpdate"/> Delayed view updates</div>
        <div class="button" 
             title="Do not update the view automatically.
This setting can save energy or can be used on very slow browsers to increase responsiveness.">
          <input type="checkbox" id="checkDisableAutoUpdate"/> Disable automatic view updates</div>
        <div class="button" 
             title="Do not use the Madoko server to typeset mathematics and/or the bibliography">
          <input type="checkbox" id="checkDisableServer"/> Disable server</div>         
       <hr/>
       <div>&nbsp;View:&nbsp; 
        <span id="view-narrow" class="button"><img src="images/icon-view-narrow.png"/>&thinsp;Narrow</span>
        <span id="view-normal" class="button"><img class="button" src="images/icon-view-normal.png"/>Normal</span>
        <span id="view-wide" class="button"><img class="button" src="images/icon-view-wide.png"/>Wide</span>
       </div>
      </div>
    </div
    ><div id="help" class="popup">
      <img class="button" src="images/dark/button-help.png" alt="About"/>
      <div id="help-content" class="menu boxed">
        <a target="_blank" href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet">
          Markdown cheat sheet <img src="images/icon-link.png"/></a>
        <a target="_blank" href="http://research.microsoft.com/en-us/um/people/daan/madoko/doc/reference.html">
          Madoko reference manual <img src="images/icon-link.png"/></a>
        <a target="_blank" href="http://madoko.codeplex.com/discussions">
          Participate in a discussion <img src="images/icon-link.png"/></a> 
        <a target="_blank" href="http://madoko.codeplex.com/workitem/list/basic">
          Report an issue <img src="images/icon-link.png"/></a>
        <hr/>
        <div class="notice"
        >Madoko, version <span id="version">0.6-beta</span><br>
             Copyright &copy; 2014, Microsoft Corporation<br>
             Created at Microsoft Research by Daan Leijen.<br>
             Madoko is free software and available under the Apache 2.0 license
             on <a target="_blank" href="http://madoko.codeplex.com">codeplex.com</a>.
        </div>
      </div>
    </div>
  </div>
  <div class="pane-content" id="view-container">
    <iframe id="view" class="view" sandbox="allow-scripts allow-popups" src="preview/preview.html"></iframe>
  </div>
</div>
</div>
<div id="app-footer">
  <div id="view-message" class="popup">
    <img id="console-ok" class="button" src="images/dark/button-console.png"/>    
    <img id="console-warn" class="button hide" src="images/dark/button-console-warn.png"/>    
    <span id="status"></span>
    <div id="console" class="madoko menu boxed">
      <div id="console-out" class="monospace short"></div>
    </div>
  </div>
  <span class="ms-notice">
    <a href="http://go.microsoft.com/fwlink/?LinkId=386394">terms of use</a> |
    <a href="http://go.microsoft.com/fwlink/?LinkID=286687">privacy and cookies</a> |
    &copy; 2014 microsoft research&nbsp;
  </span>
</div>

<div style="display:none">
<div id="initial" style="display:none; white-space:pre">Title         : Welcome to Madoko
Heading Base  : 2
Author        : You

[TITLE]

~ Note
Madoko is currently still under development. Please do not distribute
this link outside of Microsoft.
~

# Madoko

Madoko is a fast markdown processor for writing professional articles
with a focus on simplicity and plain text readability. It is especially
well suited for high quality scholarly- and industrial documents for
the web and print. It integrates closely with LaTeX and has great
support for things like in-document references, inline code,
bibliographies, and mathematics.

Madoko connects to your (personal) Onedrive or Dropbox account and
automatically synchronizes all changes in the cloud. This way, your
document is always available anywhere from any device. On Dropbox it is
easy to share and edit documents with others where concurrent changes
are automatically merged.

# Editing

Just edit the text in the editor pane on the left and the result will
show in the view pane on the right â†’. If you double click anywhere in
the view pane, the editor scrolls to that location. Useful shortcuts
include:

* `Alt-Q`: Reformat the current paragraph to fit 75 characters.
* `Shift-Alt-A`: Put a block comment around the selection.
* You can drag&amp;drop images, include files, LaTeX document classes,
  and bibliography files right into the edit pane.
* Start working with larger documents: use the `[INCLUDE=my-chapter]`
  element and in the upper-left file menu you can start editing the
  `my-chapter` include file.

To learn more about markdown and Madoko's extensions, see:

* The Madoko [reference manual], 
* The markdown [cheat sheet],
* And John Grubers' orignal [markdown] pages.

[cheat sheet]: https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet "Cheat sheet"
[reference manual]: http://research.microsoft.com/en-us/um/people/daan/madoko/doc/reference.html  "Madoko refrence manual"
[markdown]: http://daringfireball.net/projects/markdown/basics "John Grubers' Markdown"

# Some Madoko features       {#sec-features}

Here is a famous equation by [Euler]:

~ Equation { #euler }
e = \lim_{n\to\infty} \left( 1 + \frac{1}{n} \right)^n
~

A definition of $e$ is shown in Equation [#euler] in
Section [#sec-features]. 

```javascript 
function hello() {
  return "hello Madoko world";
}
```

[euler]: http://www.bing.com/search?q=euler "Bing Euler"

# FAQ

1. _Does the Madoko server store any documents_?\
    No, the madoko server just processes mathematical formulas,
    bibliographies, and PDF exports. All documents are sent over an
    encrypted connection and immediately removed after processing.

    Documents are only stored locally in your browser, and on your
    personal cloud storage. Nothing is retained on the Madoko server.
    
2. _Do I need to save my document_?\
    No, Madoko continuously saves the current document in browser local
    storage. You can at any time close the browser or shutdown the
    computer and your changes are saved. If enabled, Madoko will also
    automatically synchronize your changes to the cloud storage every
    30 seconds or so. When the local document is synchronized with the
    cloud, the black dot behind the name disappers.

3. _How can you show a preview_?\
    All the rendering for the preview and HTML export is done locally
    in the browser on your computer. 
   
4. _Can I work concurrently with other users on a document_?\
    Yes, Madoko handles this and merges concurrent changes
    automatically. However, currently only Dropbox supports full
    sharing of files in the cloud. Onedrive does not support such
    sharing at this time[^onedrive].

5. _Is there version control_?\    
    This is not provided by Madoko, but Dropbox maintains a complete
    version history of any file. Of course, you can also set up regular
    version control through Git or Mercurial in your cloud synchronized
    folder.
    
6. _The editor has 'hick-ups'_!\
    Go to the settings menu and enable "delayed view updates". This
    will only update the view if there is a small pause in typing which
    makes the editor much more responsive on a slow browser or large
    document.
    
7. _What browsers are supported_?\
    Madoko.NET has been tested with Chrome version 31+, IE 10+, and
    Firefox version 27+. Unfortunately, Firefox has a tendency to
    become slow for larger documents.
    
8. _What software does Madoko use_?\   
   - [NodeJS]
   - [Express]
   - Madoko is written in the [Koka] language.
   - Madoko is free software and available on [codeplex] under the 
     Apache 2.0 license

[koka]:     http://www.rise4fun.com/koka/tutorial
[nodejs]:   http://nodejs.org
[express]:  http://expressjs.com
[codeplex]: http://madoko.codeplex.com
[onedrive-sharing]: http://msdn.microsoft.com/en-us/library/dn659731.aspx
[^onedrive]: "_Creating, updating, or deleting files in a folder that is
    shared with the signed-in user is not supported by the OneDrive
    API._", [link][onedrive-sharing]
</div>

<script>
// test browser features
if (typeof Worker === "undefined") {
  document.getElementById("oldbrowser").style.display = "block";
}
else {
  document.getElementById("app").style.display = "block"; 
}
</script>

<!-- dropbox -->
<script type="text/javascript" src="https://www.dropbox.com/static/api/2/dropins.js" id="dropboxjs" data-app-key="3vj9witefc2z44w"></script>
<!-- onedrive -->
<script src="//js.live.net/v5.0/wl.debug.js"></script>

</div>
</body>
</html>